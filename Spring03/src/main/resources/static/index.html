<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        // 撈 profile / hotel
        $(document).ready(function(){
            // 檢查 Session
            $.ajax({
                url : "/api/members/status",
                method: 'POST',
                dataType: 'json'
            }).done(function(data) {
                if (data.success){
                    $('#companyName').text(data.companyName);
                    $('#companyTel').text(data.companyTel);
                    $('#welcome').text("Hello, " + data.member.name + "(" + data.member.email + ")");
                }else{
                    location.href = 'login.html'
                }
            })
            .fail(function(){ location.href = 'login.html' });

            $('#logout').click(function(){
                $.ajax({
                    url: "/api/members/logout",
                    method: "GET",
                    dataType: "json"
                }).always(function(){location.href = 'login.html';});
                
                function loadHotel() {

                }

                loadHotel();

                $('#prev').click(() => {});
                $('#next').click(() => {});
            });
        });
    </script>
    <title>Document</title>
</head>
<body>
    <h1 id="companyName">Title</h1>
    <h3 id="companyTel">Tel</h3>
    <h2>Main Page</h2>
    <hr>
    <div id="welcome"></div>
    <div id="icon"></div>
    <button id="logout">Logout</button>
    <hr>
    <button id="prev">Prev</button> | <span id="page">3</span> | <button id="next">Next</button> 
    <table id="hotelTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Tel</th>
                <th>Address</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</body>
</html>