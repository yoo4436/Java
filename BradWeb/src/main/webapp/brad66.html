<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<style type="text/css">
			table {
				border-collapse: collapse; 
				width: 100%;
			}
			th, td{
				border: 1px solid #ccc;
				padding: 8px;
			}
		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		<script type="text/javascript">
			let url = "brad67.jsp";
			function search() {
				$.ajax({
					url: url,
					method: 'get',
					data: {
						"orderId": $('#orderId').val()
					},
					success: function(order) {
						console.log(order);
						$('#employee').html(order.employee);
						$('#customer').html(order.customer);
						$('#orderDate').html(order.orderDate);
						$('#total').html(order.total);
						console.log(order.total);
						
						$('#table').empty();
						$(order.details).each(function(i, row){
							$('#table').append(
								'<tr>' +
									'<td>' + (i+1) + '</td>' +
									'<td>' + row.pid + '</td>' +
									'<td>' + row.pname + '</td>' +
									'<td>' + row.price + '</td>' +
									'<td>' + row.qty + '</td>' +
									'<td>' + row.sum + '</td>' +
								'</tr>'
							);
						});
						
					}
				})
			}
		</script>
	</head>
	<body>
		<h1>Northwind Big Company</h1>
		<hr />
		<div>
			<label>Order ID</label>
			<input id="orderId" />
			<input type="button" onclick="search()" value="Search" />
		</div>
		<div>
			<label>OrderDate: </label><span id="orderdate"></span>
		</div>
		<div>
			<label>Employee: </label><span id="employee"></span>
		</div>
		<div>
			<label>Customer: </label><span id="customer"></span>
		</div>
		<hr />
		<table id="table">
		
		</table>
		<div>
			<label>Total: </label><span id="total"></span>
		</div>
	</body>
</html>